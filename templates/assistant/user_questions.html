{% extends "core/base.html" %}
{% block title %}Resumen Diario de Usuarios{% endblock %}

{% block content %}

<style>
    body {
        background: #f9fafb;
    }

    .container-summary {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 16px;
        margin-top: 4rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    h1 {
        font-size: 2rem;
        color: #0d9488;
        text-align: center;
        margin-bottom: 1rem;
    }

    p.subtitle {
        text-align: center;
        color: #555;
        margin-bottom: 2rem;
    }

    /* Bot√≥n */
    .generate-btn {
        display: inline-block;
        padding: 10px 20px;
        background: #10b981;
        color: white;
        border-radius: 10px;
        text-decoration: none;
        font-weight: 600;
        margin-bottom: 25px;
        transition: background 0.2s;
    }
    .generate-btn:hover {
        background: #0a9169;
    }

    /* Caja de resumen */
    .summary-box {
        background: #f1fdf7;
        padding: 1.5rem;
        border-radius: 12px;
        border-left: 6px solid #10b981;
        margin-bottom: 1.5rem;
    }

    .summary-title {
        font-size: 1.3rem;
        color: #047857;
        font-weight: 600;
        margin-bottom: 8px;
    }

    .small-date {
        color: #6b7280;
        font-size: 0.85rem;
    }

    /* Caja de texto crudo */
    .raw-data-box {
        margin-top: 10px;
        background: #f3f4f6;
        padding: 1rem;
        border-radius: 10px;
        font-size: 0.9rem;
        white-space: pre-line;
        border-left: 4px solid #9ca3af;
    }
</style>


<div class="container-summary">

    <h1> Resumen Diario de Dudas de Usuarios</h1>
    <p class="subtitle">Este panel resume las inquietudes m√°s importantes enviadas por los usuarios hoy.</p>

    <div style="text-align:center;">
        <a href="{% url 'assistant:generate_daily_summary' %}"
           class="generate-btn">
            Generar resumen del d√≠a
        </a>
    </div>

    {% if latest_summary %}
    <div class="summary-box">
        <div class="summary-title">Resumen del d√≠a:</div>
        <p>{{ latest_summary.summary_question }}</p>
        <p class="small-date">Generado el {{ latest_summary.date }}</p>
    </div>

    {% else %}
    <p class="empty" style="text-align:center; margin-top:20px;">
        üì≠ A√∫n no se ha generado un resumen hoy.
    </p>
    {% endif %}

</div>

{% endblock %}
